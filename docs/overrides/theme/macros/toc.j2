{% macro make_toc( toc ) -%}
<p>Contents</p>
<nav>
    <ul>
        {% for toc_item in toc -%}
        <li>
            <a href="{{ toc_item.url }}">{{ toc_item.title}}</a>
            {% if toc_item.children -%}
            <ul>
                {% for toc_item in toc_item.children -%}
                <li>
                    <a href="{{ toc_item.url }}">{{ toc_item.title }}</a>
                    {% if toc_item.children -%}
                    <ul>
                        {% for toc_item in toc_item.children -%}
                        <li><a href="{{ toc_item.url }}">{{ toc_item.title }}</a></li>
                        {%- endfor %}
                    </ul>
                    {%- endif %}

                </li>
                {%- endfor %}
            </ul>
            {%- endif %}
        </li>
        {%- endfor %}
    </ul>
</nav>
{%- endmacro -%}