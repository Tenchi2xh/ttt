import numpy as np
from PIL.Image import Image

from .convert import to_blocks


"""
https://en.wikipedia.org/wiki/Symbols_for_Legacy_Computing_Supplement
U+1CD0x ЁЬ┤А ЁЬ┤Б ЁЬ┤В ЁЬ┤Г ЁЬ┤Д ЁЬ┤Е ЁЬ┤Ж ЁЬ┤З ЁЬ┤И ЁЬ┤Й ЁЬ┤К ЁЬ┤Л ЁЬ┤М ЁЬ┤Н ЁЬ┤О ЁЬ┤П
U+1CD1x ЁЬ┤Р ЁЬ┤С ЁЬ┤Т ЁЬ┤У ЁЬ┤Ф ЁЬ┤Х ЁЬ┤Ц ЁЬ┤Ч ЁЬ┤Ш ЁЬ┤Щ ЁЬ┤Ъ ЁЬ┤Ы ЁЬ┤Ь ЁЬ┤Э ЁЬ┤Ю ЁЬ┤Я
U+1CD2x ЁЬ┤а ЁЬ┤б ЁЬ┤в ЁЬ┤г ЁЬ┤д ЁЬ┤е ЁЬ┤ж ЁЬ┤з ЁЬ┤и ЁЬ┤й ЁЬ┤к ЁЬ┤л ЁЬ┤м ЁЬ┤н ЁЬ┤о ЁЬ┤п
U+1CD3x ЁЬ┤░ ЁЬ┤▒ ЁЬ┤▓ ЁЬ┤│ ЁЬ┤┤ ЁЬ┤╡ ЁЬ┤╢ ЁЬ┤╖ ЁЬ┤╕ ЁЬ┤╣ ЁЬ┤║ ЁЬ┤╗ ЁЬ┤╝ ЁЬ┤╜ ЁЬ┤╛ ЁЬ┤┐
U+1CD4x ЁЬ╡А ЁЬ╡Б ЁЬ╡В ЁЬ╡Г ЁЬ╡Д ЁЬ╡Е ЁЬ╡Ж ЁЬ╡З ЁЬ╡И ЁЬ╡Й ЁЬ╡К ЁЬ╡Л ЁЬ╡М ЁЬ╡Н ЁЬ╡О ЁЬ╡П
U+1CD5x ЁЬ╡Р ЁЬ╡С ЁЬ╡Т ЁЬ╡У ЁЬ╡Ф ЁЬ╡Х ЁЬ╡Ц ЁЬ╡Ч ЁЬ╡Ш ЁЬ╡Щ ЁЬ╡Ъ ЁЬ╡Ы ЁЬ╡Ь ЁЬ╡Э ЁЬ╡Ю ЁЬ╡Я
U+1CD6x ЁЬ╡а ЁЬ╡б ЁЬ╡в ЁЬ╡г ЁЬ╡д ЁЬ╡е ЁЬ╡ж ЁЬ╡з ЁЬ╡и ЁЬ╡й ЁЬ╡к ЁЬ╡л ЁЬ╡м ЁЬ╡н ЁЬ╡о ЁЬ╡п
U+1CD7x ЁЬ╡░ ЁЬ╡▒ ЁЬ╡▓ ЁЬ╡│ ЁЬ╡┤ ЁЬ╡╡ ЁЬ╡╢ ЁЬ╡╖ ЁЬ╡╕ ЁЬ╡╣ ЁЬ╡║ ЁЬ╡╗ ЁЬ╡╝ ЁЬ╡╜ ЁЬ╡╛ ЁЬ╡┐
U+1CD8x ЁЬ╢А ЁЬ╢Б ЁЬ╢В ЁЬ╢Г ЁЬ╢Д ЁЬ╢Е ЁЬ╢Ж ЁЬ╢З ЁЬ╢И ЁЬ╢Й ЁЬ╢К ЁЬ╢Л ЁЬ╢М ЁЬ╢Н ЁЬ╢О ЁЬ╢П
U+1CD9x ЁЬ╢Р ЁЬ╢С ЁЬ╢Т ЁЬ╢У ЁЬ╢Ф ЁЬ╢Х ЁЬ╢Ц ЁЬ╢Ч ЁЬ╢Ш ЁЬ╢Щ ЁЬ╢Ъ ЁЬ╢Ы ЁЬ╢Ь ЁЬ╢Э ЁЬ╢Ю ЁЬ╢Я
U+1CDAx ЁЬ╢а ЁЬ╢б ЁЬ╢в ЁЬ╢г ЁЬ╢д ЁЬ╢е ЁЬ╢ж ЁЬ╢з ЁЬ╢и ЁЬ╢й ЁЬ╢к ЁЬ╢л ЁЬ╢м ЁЬ╢н ЁЬ╢о ЁЬ╢п
U+1CDBx ЁЬ╢░ ЁЬ╢▒ ЁЬ╢▓ ЁЬ╢│ ЁЬ╢┤ ЁЬ╢╡ ЁЬ╢╢ ЁЬ╢╖ ЁЬ╢╕ ЁЬ╢╣ ЁЬ╢║ ЁЬ╢╗ ЁЬ╢╝ ЁЬ╢╜ ЁЬ╢╛ ЁЬ╢┐
U+1CDCx ЁЬ╖А ЁЬ╖Б ЁЬ╖В ЁЬ╖Г ЁЬ╖Д ЁЬ╖Е ЁЬ╖Ж ЁЬ╖З ЁЬ╖И ЁЬ╖Й ЁЬ╖К ЁЬ╖Л ЁЬ╖М ЁЬ╖Н ЁЬ╖О ЁЬ╖П
U+1CDDx ЁЬ╖Р ЁЬ╖С ЁЬ╖Т ЁЬ╖У ЁЬ╖Ф ЁЬ╖Х ЁЬ╖Ц ЁЬ╖Ч ЁЬ╖Ш ЁЬ╖Щ ЁЬ╖Ъ ЁЬ╖Ы ЁЬ╖Ь ЁЬ╖Э ЁЬ╖Ю ЁЬ╖Я
U+1CDEx ЁЬ╖а ЁЬ╖б ЁЬ╖в ЁЬ╖г ЁЬ╖д ЁЬ╖е
...
U+1CEAx ЁЬ║а     ЁЬ║г         ЁЬ║и     ЁЬ║л

https://en.wikipedia.org/wiki/Symbols_for_Legacy_Computing
U+1FB8x     ЁЯоВ     ЁЯоЕ
...
U+1FBEx             ЁЯпж ЁЯпз

https://en.wikipedia.org/wiki/Block_Elements
U+258x  тЦА   тЦВ   тЦД   тЦЖ   тЦИ   тЦК   тЦМ
U+259x  тЦР           тЦЦ тЦЧ тЦШ тЦЩ тЦЪ тЦЫ тЦЬ тЦЭ тЦЮ тЦЯ
"""


block_map = """
  ЁЬ║и ЁЬ║л ЁЯоВ ЁЬ┤А тЦШ ЁЬ┤Б ЁЬ┤В ЁЬ┤Г ЁЬ┤Д тЦЭ ЁЬ┤Е ЁЬ┤Ж ЁЬ┤З ЁЬ┤И тЦА
ЁЬ┤Й ЁЬ┤К ЁЬ┤Л ЁЬ┤М ЁЯпж ЁЬ┤Н ЁЬ┤О ЁЬ┤П ЁЬ┤Р ЁЬ┤С ЁЬ┤Т ЁЬ┤У ЁЬ┤Ф ЁЬ┤Х ЁЬ┤Ц ЁЬ┤Ч
ЁЬ┤Ш ЁЬ┤Щ ЁЬ┤Ъ ЁЬ┤Ы ЁЬ┤Ь ЁЬ┤Э ЁЬ┤Ю ЁЬ┤Я ЁЯпз ЁЬ┤а ЁЬ┤б ЁЬ┤в ЁЬ┤г ЁЬ┤д ЁЬ┤е ЁЬ┤ж
ЁЬ┤з ЁЬ┤и ЁЬ┤й ЁЬ┤к ЁЬ┤л ЁЬ┤м ЁЬ┤н ЁЬ┤о ЁЬ┤п ЁЬ┤░ ЁЬ┤▒ ЁЬ┤▓ ЁЬ┤│ ЁЬ┤┤ ЁЬ┤╡ ЁЯоЕ
ЁЬ║г ЁЬ┤╢ ЁЬ┤╖ ЁЬ┤╕ ЁЬ┤╣ ЁЬ┤║ ЁЬ┤╗ ЁЬ┤╝ ЁЬ┤╜ ЁЬ┤╛ ЁЬ┤┐ ЁЬ╡А ЁЬ╡Б ЁЬ╡В ЁЬ╡Г ЁЬ╡Д
тЦЦ ЁЬ╡Е ЁЬ╡Ж ЁЬ╡З ЁЬ╡И тЦМ ЁЬ╡Й ЁЬ╡К ЁЬ╡Л ЁЬ╡М тЦЮ ЁЬ╡Н ЁЬ╡О ЁЬ╡П ЁЬ╡Р тЦЫ
ЁЬ╡С ЁЬ╡Т ЁЬ╡У ЁЬ╡Ф ЁЬ╡Х ЁЬ╡Ц ЁЬ╡Ч ЁЬ╡Ш ЁЬ╡Щ ЁЬ╡Ъ ЁЬ╡Ы ЁЬ╡Ь ЁЬ╡Э ЁЬ╡Ю ЁЬ╡Я ЁЬ╡а
ЁЬ╡б ЁЬ╡в ЁЬ╡г ЁЬ╡д ЁЬ╡е ЁЬ╡ж ЁЬ╡з ЁЬ╡и ЁЬ╡й ЁЬ╡к ЁЬ╡л ЁЬ╡м ЁЬ╡н ЁЬ╡о ЁЬ╡п ЁЬ╡░
ЁЬ║а ЁЬ╡▒ ЁЬ╡▓ ЁЬ╡│ ЁЬ╡┤ ЁЬ╡╡ ЁЬ╡╢ ЁЬ╡╖ ЁЬ╡╕ ЁЬ╡╣ ЁЬ╡║ ЁЬ╡╗ ЁЬ╡╝ ЁЬ╡╜ ЁЬ╡╛ ЁЬ╡┐
ЁЬ╢А ЁЬ╢Б ЁЬ╢В ЁЬ╢Г ЁЬ╢Д ЁЬ╢Е ЁЬ╢Ж ЁЬ╢З ЁЬ╢И ЁЬ╢Й ЁЬ╢К ЁЬ╢Л ЁЬ╢М ЁЬ╢Н ЁЬ╢О ЁЬ╢П
тЦЧ ЁЬ╢Р ЁЬ╢С ЁЬ╢Т ЁЬ╢У тЦЪ ЁЬ╢Ф ЁЬ╢Х ЁЬ╢Ц ЁЬ╢Ч тЦР ЁЬ╢Ш ЁЬ╢Щ ЁЬ╢Ъ ЁЬ╢Ы тЦЬ
ЁЬ╢Ь ЁЬ╢Э ЁЬ╢Ю ЁЬ╢Я ЁЬ╢а ЁЬ╢б ЁЬ╢в ЁЬ╢г ЁЬ╢д ЁЬ╢е ЁЬ╢ж ЁЬ╢з ЁЬ╢и ЁЬ╢й ЁЬ╢к ЁЬ╢л
тЦВ ЁЬ╢м ЁЬ╢н ЁЬ╢о ЁЬ╢п ЁЬ╢░ ЁЬ╢▒ ЁЬ╢▓ ЁЬ╢│ ЁЬ╢┤ ЁЬ╢╡ ЁЬ╢╢ ЁЬ╢╖ ЁЬ╢╕ ЁЬ╢╣ ЁЬ╢║
ЁЬ╢╗ ЁЬ╢╝ ЁЬ╢╜ ЁЬ╢╛ ЁЬ╢┐ ЁЬ╖А ЁЬ╖Б ЁЬ╖В ЁЬ╖Г ЁЬ╖Д ЁЬ╖Е ЁЬ╖Ж ЁЬ╖З ЁЬ╖И ЁЬ╖Й ЁЬ╖К
ЁЬ╖Л ЁЬ╖М ЁЬ╖Н ЁЬ╖О ЁЬ╖П ЁЬ╖Р ЁЬ╖С ЁЬ╖Т ЁЬ╖У ЁЬ╖Ф ЁЬ╖Х ЁЬ╖Ц ЁЬ╖Ч ЁЬ╖Ш ЁЬ╖Щ ЁЬ╖Ъ
тЦД ЁЬ╖Ы ЁЬ╖Ь ЁЬ╖Э ЁЬ╖Ю тЦЩ ЁЬ╖Я ЁЬ╖а ЁЬ╖б ЁЬ╖в тЦЯ ЁЬ╖г тЦЖ ЁЬ╖д ЁЬ╖е тЦИ
"""

braille_map = """
  таБ таИ таЙ таВ таГ таК таЛ таР таС таШ таЩ таТ таУ таЪ таЫ
таД таЕ таМ таН таЖ таЗ таО таП таФ таХ таЬ таЭ таЦ таЧ таЮ таЯ
таа таб таи тай тав таг так тал та░ та▒ та╕ та╣ та▓ та│ та║ та╗
тад тае там тан таж таз тао тап та┤ та╡ та╝ та╜ та╢ та╖ та╛ та┐
тбА тбБ тбИ тбЙ тбВ тбГ тбК тбЛ тбР тбС тбШ тбЩ тбТ тбУ тбЪ тбЫ
тбД тбЕ тбМ тбН тбЖ тбЗ тбО тбП тбФ тбХ тбЬ тбЭ тбЦ тбЧ тбЮ тбЯ
тба тбб тби тбй тбв тбг тбк тбл тб░ тб▒ тб╕ тб╣ тб▓ тб│ тб║ тб╗
тбд тбе тбм тбн тбж тбз тбо тбп тб┤ тб╡ тб╝ тб╜ тб╢ тб╖ тб╛ тб┐
твА твБ твИ твЙ твВ твГ твК твЛ твР твС твШ твЩ твТ твУ твЪ твЫ
твД твЕ твМ твН твЖ твЗ твО твП твФ твХ твЬ твЭ твЦ твЧ твЮ твЯ
тва твб тви твй твв твг твк твл тв░ тв▒ тв╕ тв╣ тв▓ тв│ тв║ тв╗
твд тве твм твн твж твз тво твп тв┤ тв╡ тв╝ тв╜ тв╢ тв╖ тв╛ тв┐
тгА тгБ тгИ тгЙ тгВ тгГ тгК тгЛ тгР тгС тгШ тгЩ тгТ тгУ тгЪ тгЫ
тгД тгЕ тгМ тгН тгЖ тгЗ тгО тгП тгФ тгХ тгЬ тгЭ тгЦ тгЧ тгЮ тгЯ
тга тгб тги тгй тгв тгг тгк тгл тг░ тг▒ тг╕ тг╣ тг▓ тг│ тг║ тг╗
тгд тге тгм тгн тгж тгз тго тгп тг┤ тг╡ тг╝ тг╜ тг╢ тг╖ тг╛ тг┐
"""

int_to_block = block_map[1:-1:2]

int_to_braille = braille_map[1:-1:2]


def to_blocks_pil(
    image: Image, x0: int, y0: int, width: int, height: int, invert=False
):
    pixels = np.array(image).astype(np.uint8) * 255
    return to_blocks(pixels, x0, y0, width, height, invert)
